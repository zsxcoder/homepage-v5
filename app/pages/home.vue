<script setup lang="ts">
useHead({ title: '' })
definePageMeta({
	alias: ['/'],
	title: 'ä¸»é¡µ',
})
// const appConfig = useAppConfig()

const leftTags = [
	{ text: 'å¤§å­¦æ™®é€šç‰›é©¬ä¸€å', delay: 0 },
	{ text: 'ä»€ä¹ˆéƒ½ä¼šä¸€ç‚¹ç‚¹', delay: 0.6 },
	{ text: 'å®‰å“ ç”¨æˆ·', delay: 1.2 },
	{ text: 'Windows 11 ç”¨æˆ·', delay: 1.8 },
]

const rightTags = [
	{ text: 'Vue', delay: 0 },
	{ text: 'Astro', delay: 0.6 },
	{ text: 'TypeScript', delay: 1.2 },
	{ text: 'Nuxt.js', delay: 1.8 },
]

// åªåœ¨å®¢æˆ·ç«¯åŠ è½½è„šæœ¬
if (process.client) {
	onMounted(() => {
		window.scrollTo(0, 0)
		// åŠ¨æ€åŠ è½½å¤–éƒ¨ JS è„šæœ¬
		/*
		const loadScript = (url: string, callback?: () => void) => {
			return new Promise<void>((resolve, reject) => {
				// æ£€æŸ¥æ˜¯å¦å·²åŠ è½½
				if (document.querySelector(`script[src="${url}"]`)) {
					resolve()
					return
				}

				// åˆ›å»º script æ ‡ç­¾
				const script = document.createElement('script')
				script.src = url
				script.type = 'text/javascript'
				script.async = true // å¼‚æ­¥åŠ è½½ï¼ˆä¸é˜»å¡é¡µé¢æ¸²æŸ“ï¼‰

				// åŠ è½½æˆåŠŸå›è°ƒ
				script.onload = () => {
					callback?.()
					resolve()
				}

				// åŠ è½½å¤±è´¥å›è°ƒ
				script.onerror = (err) => {
					console.error('è„šæœ¬åŠ è½½å¤±è´¥', err)
					reject(err)
				}

				// æ·»åŠ åˆ° DOMï¼ˆæ¨èæ·»åŠ åˆ° head æˆ– body æœ«å°¾ï¼‰
				document.head.appendChild(script)
			})
		}
		*/

		// loadScript('https://www.myxz.top/assets/js/about.js')
		// 	.then(() => {
		// 	})
		// 	.catch((err) => {
		// 		console.error('å‹é“¾é¡¶éƒ¨é‡è¦JSåŠ è½½å®Œæ¯•', err)
		// 	})
	})
}
</script>

<template>
<div class="home-container">
	<ZhiluAvatar class="avatar-bg" />

	<!-- é¡¶éƒ¨æ¸å˜èƒŒæ™¯åŒºåŸŸ -->
	<div class="header-section">
		<AboutUser :left-tags="leftTags" :right-tags="rightTags" />
	</div>

	<!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
	<div class="main-content">
		<div class="section-title">
			å…³äºæœ¬ç«™
		</div>

		<!-- ä»‹ç»éƒ¨åˆ† -->
		<AboutIntroduce />

		<!-- æŠ€èƒ½å¡ç‰‡ -->
		<AboutSkill />

		<!-- æ€§æ ¼å¡ç‰‡ -->
		<AboutPersonality />

		<!-- çˆ±å¥½æ¸¸æˆ -->
		<AboutGames />

		<!-- è¿‘æœŸæ´»åŠ¨å¡ç‰‡ -->
		<div class="card activity-card">
			<h3 class="card-title">
				ğŸ“… è¿‘æœŸæ´»åŠ¨
			</h3>
			<div class="card-content">
				<div class="timeline-item">
					<div class="timeline-date">
						2025å¹´12æœˆ
					</div>
					<p>é‡æ„äº†<ZLink to="https://blog.zsxcoder.top">åšå®¢</ZLink>ä»¥åŠå¼€å§‹ä¸»é¡µçš„ä¿®æ”¹ã€‚</p>
				</div>
				<div class="timeline-item">
					<div class="timeline-date">
						2025å¹´2æœˆ
					</div>
					<p>ç¬¬ä¸€æ¬¡æ­å»º çº¸é¹¿ å¤§ä½¬çš„<ZLink to="https://github.com/L33Z22L11/blog-v3" icon="ri:github-line">ä¸ªäººåšå®¢</ZLink>è‡ªç”¨ã€‚</p>
				</div>
				<div class="timeline-item">
					<div class="timeline-date">
						2024å¹´11æœˆ
					</div>
					<p>å¼€å§‹æˆ‘çš„åšå®¢ä¹‹æ—…</p>
					<!-- <p>å®Œå–„<ZLink to="https://wiki.cooo.site/">è¥¿é‚®Wiki</ZLink></p> -->
				</div>
			</div>
		</div>

		<!-- å…³äºä¸»é¡µå¡ç‰‡ -->
		<div class="card about-site-card">
			<h3 class="card-title">
				ğŸ  å…³äºä¸»é¡µ
			</h3>
			<div class="card-content">
				<p>åœ¨2025å¹´å¼€å§‹ç”¨è¿‡ä¸€æ¬¡ï¼Œç›®å‰(2025/12/17~?)å¼€å§‹ä¸”ä½¿ç”¨ã€‚</p>
				<p>
					æ„Ÿè°¢
					<ZBadge link="https://github.com/L33Z22L11">
						çº¸é¹¿å¤§ä½¬
					</ZBadge>
					çš„å¼€æºé¡¹ç›®åˆ†äº«ã€‚
				</p>
				<p>
					é­”æ”¹å‚è€ƒ
					<ZLink to="https://github.com/MC-YCY/blog-ui" icon="ri:github-line">MC-YCY/blog-ui</ZLink>çš„å‰ç«¯ä»£ç 
					ã€‚
				</p>
				<p>
					é­”æ”¹ä»£ç å¼€æºåœ¨
					<ZLink to="https://github.com/zsxcoder/homepage-v5" icon="ri:github-line">zsxcoder/homepage-v5</ZLink>
					ä¸Šã€‚
				</p>
				<div class="fork-list">
					<p>æ¬¢è¿ä½¿ç”¨~</p>
					<!-- <ZBadge v-for="item in appConfig.fork" :key="item.link" v-bind="item" /> -->
				</div>
			</div>
		</div>
	</div>

	<!-- Waline è¯„è®ºç»„ä»¶ -->
	<client-only>
		<Waline path="/home" title="ä¸»é¡µ" />
	</client-only>
</div>
</template>

<style lang="scss" scoped>
.home-container {
	margin: 1rem;
	position: relative;

	@media (max-width: 480px) {
		margin: 0.25rem 0.125rem;
	}
}

.avatar-bg {
	position: fixed;
	opacity: 0.1;
	top: 0;
	right: 20vw;
	margin-right: -0.4em;
	font-size: min(100vw, 60vh);
	z-index: -1;
}

/* é¡¶éƒ¨æ¸å˜èƒŒæ™¯åŒºåŸŸ */
.header-section {
	background: linear-gradient(180deg, rgba(196, 255, 255, 0.3) 0%, rgba(0, 0, 0, 0) 100%);
	padding: 6rem 1rem 1rem;
	margin: -1rem -1rem 0 -1rem;
}

/* ä¸»è¦å†…å®¹åŒºåŸŸ */
.main-content {
	max-width: 1400px;
	margin: 0 auto;
	padding: 0 1rem 2rem;

	@media (max-width: 480px) {
		padding: 0 0.125rem 1rem;
	}
}

.section-title {
	font-size: 2.25rem;
	font-weight: 700;
	color: var(--c-text);
	opacity: 0.9;
	text-align: center;
	margin-bottom: 2.5rem;
}

/* å†…å®¹å¡ç‰‡åŒºåŸŸ */
.content-cards {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	gap: 1rem;
	margin-bottom: 2rem;
}

.card {
	background: var(--c-bg-2);
	border: 1px solid var(--c-border);
	border-radius: 1rem;
	padding: 1.25rem 2.5rem;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
	transition: transform 0.2s, box-shadow 0.2s;

	&:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	}
}

.card-title {
	font-size: 1.5rem;
	font-weight: 700;
	margin: 0 0 1rem 0;
	line-height: 1.3;
}

.card-content {
	margin-bottom: 1rem;
}

/* è¿‘æœŸæ´»åŠ¨å¡ç‰‡ */
.activity-card {
	.timeline-item {
		padding: 0.75rem 0;
		border-left: 2px solid var(--c-border);
		padding-left: 1rem;
		position: relative;

		&::before {
			content: '';
			position: absolute;
			left: -5px;
			top: 1rem;
			width: 8px;
			height: 8px;
			background: var(--c-primary);
			border-radius: 50%;
		}

		&:last-child {
			border-left-color: transparent;
		}
	}

	.timeline-date {
		font-size: 0.75rem;
		color: var(--c-text-2);
		margin-bottom: 0.25rem;
		font-weight: 600;
	}

	p {
		margin: 0;
		font-size: 0.875rem;
		line-height: 1.6;
	}
}

/* å…³äºä¸»é¡µå¡ç‰‡ */
.about-site-card {
	.card-content {
		p {
			margin: 0 0 0.75rem 0;
			font-size: 0.875rem;
			line-height: 1.6;

			&:last-child {
				margin-bottom: 0;
			}
		}
	}

	.fork-list {
		margin-top: 1rem;

		p {
			font-size: 0.75rem;
			color: var(--c-text-2);
			margin-bottom: 0.5rem;
		}

		:deep(.z-badge) {
			margin-right: 0.5rem;
			margin-bottom: 0.5rem;
		}
	}
}

/* å“åº”å¼ */
@media (max-width: 768px) {
	.header-section {
		padding: 3rem 1rem 1rem;
	}

	.main-content {
		padding: 0 1rem 2rem;
	}

	.card {
		padding: 1rem;
	}
}

@media (max-width: 480px) {
	.header-section {
		padding: 2rem 0.25rem 1rem;
		margin: -0.25rem -0.125rem 0 -0.125rem;
	}

	.section-title {
		font-size: 1.5rem;
		margin-bottom: 1rem;
	}

	.card {
		padding: 0.375rem 0.5rem;

		&.activity-card,
		&.about-site-card {
			padding: 0.5rem;
		}
	}

	.card-title {
		font-size: 1.125rem;
		margin-bottom: 0.5rem;
	}
}
</style>
